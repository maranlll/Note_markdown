CPU 由运算器和控制器两部分组成

控制器由程序计数器（PC）、指令寄存器（IR）、指令译码器、时序产生器、操作控制器组成

运算器由算术逻辑单元(ALU)、累加寄存器（AC）、数据缓冲寄存器、状态条件寄存器组成

控制器的功能：
程序控制：程序中指令执行顺序控制
操作控制：将机器指令翻译成执行部件所需的操作控制信号
时序控制：控制操作信号的产生时间、持续时间
异常控制：异常处理、外设交互

硬布线控制器：时序逻辑
微程序控制器：存储逻辑
门阵列控制器：前两种的组合

指令周期：计算机从内存中存取出一条指令并完成该指令执行所需要的时间。
CPU 周期（机器周期）：从内存读取一条指令字的最短时间。
时钟周期（节拍周期、T 周期）：CPU 执行一个微操作命令（控制信号）的最小时间单位。

CLA:
![avatar](/计算机组成原理/picture/28.png)
ADD:
![avatar](/计算机组成原理/picture/29.png)
STA:
![avatar](/计算机组成原理/picture/30.png)
JMP:
![avatar](/计算机组成原理/picture/11.jpg)
![avatar](/计算机组成原理/picture/31.png)

![avatar](/计算机组成原理/picture/32.png)
Load R0 6#
读：
![avatar](/计算机组成原理/picture/33.png)
写：
![avatar](/计算机组成原理/picture/34.png)
![avatar](/计算机组成原理/picture/35.png)

![avatar](/计算机组成原理/picture/37.png)
![avatar](/计算机组成原理/picture/38.png)
![avatar](/计算机组成原理/picture/39.png)
![avatar](/计算机组成原理/picture/40.png)

**微程序控制器工作原理：**
微程序是利用软件思想设计硬件的技术
- 控制信号序列像程序一样存储起来： 
- 控制信号序列分解为若干节拍
- 一个节拍的信号编成一条微指令
- 多个节拍对应多条微指令，形成一段微程序
- 依序执行微程序即可生成控制信号序列
- 指令取指执行 $\to$ 微程序执行 $\to$ 微指令执行 $\to$  生成控制信号

存储技术和程序设计相结合，回避复杂时序逻辑设计

**微地址形成方式：**
提供两类微地址
微程序入口地址：由机器指令操作码形成
后续微地址：由微地址字段、现行微地址、运行状态等形成

**如何区分指令和数据：**
CPU 可以很容易通过时序控制信号从时间和空间上识别出是数据还是指令
从时间角度看，取指令发生在指令周期的第一个 CPU 周期中，即发生在取指阶段，而取操作数发生在指令周期的后几个 CPU 周期中，即发生在执行阶段。
从空间角度看，如果取出的代码是指令，那么一定会送到指令寄存器，如果取出的代码是数据，那么一定送往运算器。

**机器指令与微指令的关系：**
1.一条机器指令对应一个微程序，这个微程序是由若干条微指令序列组成的。因此，一条机器指令的功能是由若干条微指令组成的序列来实现的。简言之，一条机器指令所完成的操作划分成若干条微指令来完成，由微指令进行解释和执行。
2.从指令与微指令，程序与微程序，地址与微地址的一一对应关系来看，前者与内存储器有关，后者与控制存储器有关。

**执行程序的过程：**
取机器指令
转微程序入口
执行首条微指令
取后续微指令
执行后续微指令
返回

**微指令的构造：**
微指令由操作控制和顺序控制两个基本部分构成。操作控制部分用于发出指挥计算机工作的控制信号，顺序控制部分用于产生下一条微指令的地址

寄存器之间传送消息的通路称为数据通路，建立数据通路的任务是由操作控制器完成的。
